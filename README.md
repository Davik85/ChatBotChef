# ChatBotChef

ChatBotChef — Telegram-бот, который помогает придумывать рецепты при помощи GPT. Для запуска локально сконфигурируйте переменные окружения (можно использовать файл `.env`). Ниже приведены ключевые настройки.

## Обязательные переменные
- `TELEGRAM_TOKEN` — токен бота из BotFather.
- `OPENAI_API_KEY` — API-ключ OpenAI.

## Платежи в Telegram
- `PROVIDER_TOKEN` — токен провайдера платежей из BotFather (опционален: если не указан, платёжные сценарии будут недоступны).

### Параметры чеков (54-ФЗ)
Чеки включены по умолчанию. Значения `TAX_SYSTEM_CODE` и `VAT_CODE` продолжают считываться из окружения, менять ничего не нужно. Если вы самозанятый (НПД), достаточно указать `NPD_MODE=true` — сервис автоматически перестанет отправлять чеки и проигнорирует налоговые переменные.
Если требуется вручную отключить отправку чеков (для любых других сценариев), добавьте:

```
RECEIPTS_ENABLED=false
```

При выключенных чеках (`NPD_MODE=true` или `RECEIPTS_ENABLED=false`) `TAX_SYSTEM_CODE` и `VAT_CODE` можно удалить из окружения — сервис просто не будет отправлять налоговые атрибуты в Telegram.

Дополнительные параметры чеков остаются без изменений:
- `PAYMENT_SUBJECT` (по умолчанию `service`)
- `PAYMENT_MODE` (по умолчанию `full_prepayment`)
- `REQUIRE_PHONE_FOR_RECEIPT` (`false` по умолчанию)
- `REQUIRE_EMAIL_FOR_RECEIPT` (`true` по умолчанию)

## Прочие параметры
- `DB_PATH` — путь к SQLite-файлу (по умолчанию `data/chatbotchef.sqlite`).
- `PREMIUM_PRICE_RUB`, `PREMIUM_DAYS` — стоимость и срок подписки.

## Запуск
```
./gradlew run
```

> **Примечание:** в закрытых сетях может потребоваться настроить прокси для Gradle.
